<!DOCTYPE html>
<html lang="en"
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Vacation Manager</title>
 <link rel='stylesheet' type='text/css'
       href='https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.63.0/maps/maps.css'>
 <style>
 .map {
  height: 100%;
  width: 50%;
  position: fixed;
  z-index: 1;
  bot: 0;
  overflow-x: hidden;
  padding-top: 20px;
}
   #map {
     width:50%;
     height: 94%;
   }
.table{
  display:block;
  height: 100%;
  width: 50%;
  position: fixed;
  z-index: 1;
  top: 0;
  right : 0;
  overflow-x: hidden;
  padding-top: 5px;
  border: 1px solid;
}
.tablerow{
font-size:30px;
border: 1px solid;
}
.tableimg{
width:auto;
height:auto;
}
 </style>
 <script src='https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.63.0/maps/maps-web.min.js'></script>
<script>(function(){ window.SS = window.SS || {}; SS.Require = function (callback){ if (typeof callback === 'function') { if (window.SS && SS.EventTrack) { callback(); } else { var siteSpect = document.getElementById('siteSpectLibraries'); var head = document.getElementsByTagName('head')[0]; if (siteSpect === null && typeof head !== 'undefined') { siteSpect = document.createElement('script'); siteSpect.type = 'text/javascript'; siteSpect.src = '/__ssobj/core.js+ssdomvar.js+generic-adapter.js';siteSpect.async = true; siteSpect.id = 'siteSpectLibraries'; head.appendChild(siteSpect); } if (window.addEventListener){ siteSpect.addEventListener('load', callback, false); } else { siteSpect.attachEvent('onload', callback, false); } } } };})(); </script> </head>
<body>
<form th:action="@{/}">
<label for="Name">City:</label>
<input type="text" id="Name" th:name="cityName" placeholder="">
<label for="start">Start date:</label>
<input type="date" id="start" th:name="startDate"
       value="2022-12-01">
<label for="start">Return date:</label>
<input type="date" id="return" th:name="endDate"
       value="2022-12-01">
<label for="people">Persons:</label>
<input type="number" id="people" th:name="nrofppl"
       min="1" max="100"/>
<label for="rooms">Rooms:</label>
<input type="number" id="rooms" th:name="nrofrooms"
       min="1" max="100"/>
 <form action="#" th:action="@{/}">
  <button type="submit">Search</button>
 </form>
</form>
<div id='map' class='map'></div>
<div class="one"></div>
<script th:inline="javascript">
 var map = tt.map({
   key: [[${apikey}]], // this will be replaced by Thymeleaf at runtime
   container: 'map',
   style: 'tomtom://vector/1/basic-main',
   center: [20, 57.2787],
   zoom: 3
 });
 const popupOffsets = {
 top: [0, 0],
 bottom: [0, -50],
 'bottom-right': [0, -70],
 'bottom-left': [0, -70],
 left: [25, -35],
 right: [-25, -35]
}
// placeholder for data that will be filled in by Thymeleaf
const coolLocations = /*[[${coolLocations}]]*/ null;
coolLocations.forEach(location => {
 const marker = new tt.Marker().setLngLat(location.lnglat).addTo(map);
 const popup = new tt.Popup({offset: popupOffsets}).setHTML(location.description);
 marker.setPopup(popup).togglePopup();

const hotelsList = /*[[${hotelList}]]*/ null;
 marker.getElement().addEventListener('click', function () {
 const city = location.description;
 document.getElementById('Name').value = city;
  });
});
 map.addControl(new tt.FullscreenControl());
 map.addControl(new tt.NavigationControl());
</script>
<table class="table">
 <tr>
  <th>Name</th>
  <th>Price</th>
  <th>Photo</th>
 </tr>
 <tr th:each="hotel : ${hotelList}">
  <td class="tablerow" ><a th:href="${hotel.getURL()}" th:text="${hotel.getName()}"></a></td>
  <td class="tablerow" th:text="${hotel.getPrice()}" ></td>
  <td class="tableimg"><img th:src="${hotel.getPhotoURL()}" width="500" height="400"></td>
 </tr>
</table>
</body>
</html>